{"version":3,"sources":["public/js/register.js"],"names":["registerForm","document","getElementById","registerUser","options","response","fetch","data","json","status","querySelector","innerHTML","msg","linkDiv","linkToLogin","createElement","href","classList","code","style","display","appendChild","createOptions","method","mode","headers","body","JSON","stringify","addEventListener","event","preventDefault","name","value","username","email","password"],"mappings":";AAAA,MAAMA,EAAeC,SAASC,eAAe,gBAc7C,eAAeC,EAAaC,GACpBC,MAAAA,QAAiBC,MACrB,8CACAF,GAEIG,QAAaF,EAASG,OAEtBC,EAASR,SAASS,cAAc,oBACtCD,EAAOE,UAAYJ,EAAKK,IAElBC,MAAAA,EAAUZ,SAASS,cAAc,oBAEjCI,EAAcb,SAASc,cAAc,KAIvCR,GAHJO,EAAYE,KAAO,aACnBF,EAAYH,UAAY,mBACxBG,EAAYG,UAAY,YACN,MAAdV,EAAKW,KAAc,CACrBT,EAAOQ,UAAY,gDAEDhB,SAASS,cAAc,4BAC/BS,MAAMC,QAAU,OAC1BP,EAAQQ,YAAYP,GACpBD,EAAQI,UAAY,6CAEpBR,EAAOQ,UAAY,oCAKvB,SAASK,EAAcf,GASdH,MARS,CACdmB,OAAQ,OACRC,KAAM,OACNC,QAAS,CACS,eAAA,oBAElBC,KAAMC,KAAKC,UAAUrB,IAhDzBP,EAAa6B,iBAAiB,SAAUC,IACtCA,EAAMC,iBAQN5B,EADwBmB,EADJ,CAAEU,KALT/B,SAASS,cAAc,cAAcuB,MAKtBC,SAJXjC,SAASS,cAAc,kBAAkBuB,MAIpBE,MAHxBlC,SAASS,cAAc,cAAcuB,MAGNG,SAF5BnC,SAASS,cAAc,kBAAkBuB","file":"register.a3060ea3.js","sourceRoot":"..\\src","sourcesContent":["const registerForm = document.getElementById(\"registerForm\");\r\n\r\nregisterForm.addEventListener(\"submit\", event => {\r\n  event.preventDefault();\r\n  const name = document.querySelector(\"#user_name\").value;\r\n  const username = document.querySelector(\"#user_username\").value;\r\n  const email = document.querySelector(\"#user_mail\").value;\r\n  const password = document.querySelector(\"#user_password\").value;\r\n\r\n  const userDetails = { name, username, email, password };\r\n  const registerOptions = createOptions(userDetails);\r\n  registerUser(registerOptions);\r\n});\r\n\r\nasync function registerUser(options) {\r\n  const response = await fetch(\r\n    \"http://94.231.110.64:3000/api/user/register\",\r\n    options\r\n  );\r\n  const data = await response.json();\r\n\r\n  const status = document.querySelector(\"#register-status\");\r\n  status.innerHTML = data.msg;\r\n\r\n  const linkDiv = document.querySelector(\"#link-login-page\");\r\n\r\n  const linkToLogin = document.createElement(\"a\");\r\n  linkToLogin.href = \"login.html\"; // Insted of calling setAttribute\r\n  linkToLogin.innerHTML = \"Go to login page\"; // <a>INNER_TEXT</a>\r\n  linkToLogin.classList = \"font-dark\";\r\n  if (data.code === 200) {\r\n    status.classList = \"teal lighten-2 text-box card-panel text-white\";\r\n\r\n    const submitBtn = document.querySelector(\"#submit-button-container\");\r\n    submitBtn.style.display = \"none\";\r\n    linkDiv.appendChild(linkToLogin);\r\n    linkDiv.classList = \"waves-effect waves-light btn btn-wide\";\r\n  } else {\r\n    status.classList = \"red lighten-2 text-box card-panel\";\r\n  }\r\n}\r\n\r\n//Managing post options\r\nfunction createOptions(data) {\r\n  const options = {\r\n    method: \"POST\",\r\n    mode: \"cors\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(data)\r\n  };\r\n  return options;\r\n}\r\n"]}